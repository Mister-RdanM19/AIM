<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Aplikasi Ibadah Muslim</title>

<style>
:root{
--bg:#f1f8f4;
--card:#ffffff;
--text:#1b4332;
--accent:#2d6a4f;
}
.dark{
--bg:#0f172a;
--card:#1e293b;
--text:#e5e7eb;
--accent:#22c55e;
}
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:var(--bg);
color:var(--text);
}
header{
background:var(--accent);
color:white;
padding:20px;
text-align:center;
}
.container{max-width:1000px;margin:auto;padding:15px}
.menu{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:10px;
}
button{
padding:12px;border:none;border-radius:10px;
background:var(--accent);color:white;cursor:pointer;
}
.card{
background:var(--card);
padding:20px;border-radius:15px;
margin-top:15px;display:none;
box-shadow:0 10px 25px rgba(0,0,0,.1);
}
.arab{font-size:22px;direction:rtl;text-align:right}
.latin{font-style:italic}
.arti{color:gray}
</style>
</head>

<body>

<header>
<h1>ğŸ“¿ Aplikasi Tata Cara Ibadah</h1>
<p>code ini di buat oleh Mr.Rm19 - ramdan19id@gmail.com </p>
</header>

<div class="container">

<div class="menu">
<button onclick="show('jadwal')">ğŸ•‹ Jadwal</button>
<button onclick="show('sholat')">ğŸ™ Sholat</button>
<button onclick="show('wudhu')">ğŸ’§ Wudhu</button>
<button onclick="show('hijriah')">ğŸ—“ Hijriah</button>
<button onclick="show('kiblat')">ğŸ§­ Kiblat</button>
<button onclick="toggleDark()">ğŸŒ™ Mode</button>
</div>

<!-- JADWAL -->
<div id="jadwal" class="card">
<h2>Jadwal Sholat</h2>
<input id="city" placeholder="Nama Kota" style="width:100%;padding:10px">
<button onclick="getJadwal()">Tampilkan</button>
<table id="jadwalTable"></table>
</div>

<!-- SHOLAT -->
<div id="sholat" class="card">
<h2>Bacaan Sholat Lengkap</h2>

<p class="arab">Ø£ÙØµÙÙ„ÙÙ‘ÙŠ ÙÙØ±Ù’Ø¶Ù Ø§Ù„ØµÙÙ‘Ø¨Ù’Ø­Ù Ø±ÙÙƒÙ’Ø¹ÙØªÙÙŠÙ’Ù†Ù Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰</p>
<p class="latin">UshallÄ« fará¸aá¹£-á¹£ubá¸¥i rakâ€˜ataini lillÄhi taâ€˜ÄlÄ</p>
<p class="arti">Aku niat sholat fardhu Subuh dua rakaat karena Allah Taâ€™ala</p>

<hr>

<p class="arab">Ù±Ù„Ù„ÙÙ‘Ù°Ù‡Ù Ø£ÙÙƒÙ’Ø¨ÙØ±Ù</p>
<p class="latin">AllÄhu akbar</p>
<p class="arti">Allah Maha Besar</p>

<hr>

<p class="arab">
Ø³ÙØ¨Ù’Ø­ÙØ§Ù†ÙÙƒÙ Ù±Ù„Ù„Ù‘Ù°Ù‡ÙÙ…ÙÙ‘ ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙƒÙ
ÙˆÙØªÙØ¨ÙØ§Ø±ÙÙƒÙ Ù±Ø³Ù’Ù…ÙÙƒÙ
ÙˆÙØªÙØ¹ÙØ§Ù„ÙÙ‰Ù° Ø¬ÙØ¯ÙÙ‘ÙƒÙ
ÙˆÙÙ„ÙØ§ Ø¥ÙÙ„Ù°Ù‡Ù ØºÙÙŠÙ’Ø±ÙÙƒÙ
</p>
<p class="latin">Subá¸¥ÄnakallÄhumma wa biá¸¥amdikâ€¦</p>
<p class="arti">Maha Suci Engkau ya Allahâ€¦</p>

<hr>

<p class="arab">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨ÙÙ‘ÙŠÙ Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ’Ù…Ù ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù</p>
<p class="latin">Subá¸¥Äna rabbiyal â€˜aáº“Ä«mi wa biá¸¥amdih</p>
<p class="arti">Maha Suci Tuhanku Yang Maha Agung</p>

<hr>

<p class="arab">Ø³ÙÙ…ÙØ¹Ù Ø§Ù„Ù„Ù‘Ù°Ù‡Ù Ù„ÙÙ…ÙÙ†Ù’ Ø­ÙÙ…ÙØ¯ÙÙ‡Ù</p>
<p class="latin">Samiâ€˜allÄhu liman á¸¥amidah</p>
<p class="arti">Allah mendengar orang yang memuji-Nya</p>

<hr>

<p class="arab">Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨ÙÙ‘ÙŠÙ Ø§Ù„Ù’Ø£ÙØ¹Ù’Ù„ÙÙ‰Ù° ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙ‡Ù</p>
<p class="latin">Subá¸¥Äna rabbiyal aâ€˜lÄ wa biá¸¥amdih</p>
<p class="arti">Maha Suci Tuhanku Yang Maha Tinggi</p>

<hr>

<p class="arab">
Ø±ÙØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆÙØ§Ø±Ù’Ø­ÙÙ…Ù’Ù†ÙÙŠ ÙˆÙØ§Ø±Ù’Ø²ÙÙ‚Ù’Ù†ÙÙŠ
</p>
<p class="latin">Rabbighfir lÄ« wará¸¥amnÄ« warzuqnÄ«</p>
<p class="arti">Ya Allah, ampunilah aku, rahmatilah aku, dan beri aku rezeki</p>

<hr>

<p class="arab">Ù±Ù„Ø³ÙÙ‘Ù„ÙØ§Ù…Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ ÙˆÙØ±ÙØ­Ù’Ù…ÙØ©Ù Ù±Ù„Ù„Ù‘Ù°Ù‡Ù</p>
<p class="latin">AssalÄmuâ€˜alaikum warahmatullÄh</p>
<p class="arti">Semoga keselamatan dan rahmat Allah tercurah kepadamu</p>
</div>

<!-- WUDHU -->
<div id="wudhu" class="card">
<h2>Wudhu Lengkap</h2>

<p class="arab">
Ù†ÙÙˆÙÙŠÙ’ØªÙ Ø§Ù„Ù’ÙˆÙØ¶ÙÙˆØ¡Ù Ù„ÙØ±ÙÙÙ’Ø¹Ù Ø§Ù„Ù’Ø­ÙØ¯ÙØ«Ù Ø§Ù„Ù’Ø£ÙØµÙ’ØºÙØ±Ù Ù„ÙÙ„Ù‘Ù°Ù‡Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰
</p>
<p class="latin">
Nawaitul wuá¸Å«â€™a li rafâ€˜il á¸¥adatsil aá¹£ghar lillÄhi taâ€˜ÄlÄ
</p>
<p class="arti">
Aku niat berwudhu untuk menghilangkan hadas kecil karena Allah Taâ€™ala
</p>

<hr>

<p class="arab">
Ø£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†Ù’ Ù„ÙØ§ Ø¥ÙÙ„Ù°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„Ù‘Ù°Ù‡Ù
ÙˆÙØ£ÙØ´Ù’Ù‡ÙØ¯Ù Ø£ÙÙ†ÙÙ‘ Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯Ù‹Ø§ Ø¹ÙØ¨Ù’Ø¯ÙÙ‡Ù ÙˆÙØ±ÙØ³ÙÙˆÙ„ÙÙ‡Ù
</p>
<p class="latin">
Asyhadu allÄ ilÄha illallÄh  
wa asyhadu anna Muá¸¥ammadan â€˜abduhÅ« wa rasÅ«luh
</p>
<p class="arti">
Aku bersaksi tiada Tuhan selain Allah dan Nabi Muhammad adalah hamba dan utusan-Nya
</p>
</div>

<!-- HIJRIAH -->
<div id="hijriah" class="card">
<h2>Kalender Hijriah</h2>
<p id="hijriDate"></p>
</div>

<!-- KIBLAT -->
<div id="kiblat" class="card">
<h2>Arah Kiblat Realtime</h2>
<button onclick="startKiblat()">Aktifkan Kompas</button>
<p id="kiblatResult"></p>
<div style="width:200px;height:200px;border:5px solid var(--accent);border-radius:50%;margin:auto;position:relative">
<div id="needle" style="width:5px;height:90px;background:red;position:absolute;top:10px;left:50%;transform-origin:bottom"></div>
</div>
</div>

</div>

<audio id="adzan">
<source src="https://upload.wikimedia.org/wikipedia/commons/8/8c/Adhan.ogg">
</audio>

<script>
let timings={},kiblatDeg=0;

function show(id){
document.querySelectorAll('.card').forEach(c=>c.style.display='none');
document.getElementById(id).style.display='block';
}
function toggleDark(){document.body.classList.toggle('dark')}

function getJadwal(){
fetch(`https://api.aladhan.com/v1/timingsByCity?city=${city.value}&country=Indonesia&method=2`)
.then(r=>r.json())
.then(d=>{
timings=d.data.timings;
jadwalTable.innerHTML=`
<tr><td>Subuh</td><td>${timings.Fajr}</td></tr>
<tr><td>Dzuhur</td><td>${timings.Dhuhr}</td></tr>
<tr><td>Ashar</td><td>${timings.Asr}</td></tr>
<tr><td>Maghrib</td><td>${timings.Maghrib}</td></tr>
<tr><td>Isya</td><td>${timings.Isha}</td></tr>`;
});
}

setInterval(()=>{
let now=new Date().toTimeString().slice(0,5);
for(let k in timings){
if(now===timings[k]){
adzan.play();
if(Notification.permission==="granted"){
new Notification("Waktu Sholat",{body:`Saatnya sholat ${k}`});
}
}
}
},30000);

if(Notification.permission!=="granted")Notification.requestPermission();

fetch("https://api.aladhan.com/v1/gToH")
.then(r=>r.json())
.then(d=>{
hijriDate.innerText=`${d.data.hijri.day} ${d.data.hijri.month.en} ${d.data.hijri.year} H`;
});

// KIBLAT
const KAABA_LAT=21.4225,KAABA_LON=39.8262;
function startKiblat(){
navigator.geolocation.getCurrentPosition(p=>{
kiblatDeg=hitung(p.coords.latitude,p.coords.longitude);
kiblatResult.innerText=`Arah Kiblat: ${kiblatDeg.toFixed(2)}Â°`;
window.addEventListener('deviceorientation',e=>{
if(e.alpha===null)return;
needle.style.transform=`rotate(${kiblatDeg-(360-e.alpha)}deg)`;
});
});
}
function hitung(lat,lon){
let Ï†1=lat*Math.PI/180,Ï†2=KAABA_LAT*Math.PI/180;
let dÎ»=(KAABA_LON-lon)*Math.PI/180;
return (Math.atan2(Math.sin(dÎ»),
Math.cos(Ï†1)*Math.tan(Ï†2)-Math.sin(Ï†1)*Math.cos(dÎ»))
*180/Math.PI+360)%360;
}
</script>

</body>
</html>
